# trajectory controllers ---------------------------------------
#thor:
  joint_state_controller:
    type: joint_state_controller/JointStateController
    publish_rate: 125
        
  force_torque_sensor_controller:
    type: force_torque_sensor_controller/ForceTorqueSensorController
    publish_rate: 125
    
  imu_sensor_controller:
    type: imu_sensor_controller/ImuSensorController
    publish_rate: 125
    
  left_arm_traj_controller:
    type: "effort_controllers/JointTrajectoryController"
    joints:
      - l_arm_sh_p1
      - l_arm_sh_r
      - l_arm_sh_p2
      - l_arm_el_y
      - l_arm_wr_r
      - l_arm_wr_y
      - l_arm_wr_p
      
    gains: # Required because we're controlling an effort interface
      l_arm_sh_p1: {p: &kp_shoulder_pitch 300,  d: &kd_shoulder_pitch 0.01, i: &ki_default 100, i_clamp_min: &ki__clamp_default 0, i_clamp_max: *ki__clamp_default}
      l_arm_sh_r: {p: &kp_shoulder_roll 300,  d: &kd_shoulder_roll 1, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_arm_sh_p2: {p: *kp_shoulder_pitch,  d: *kd_shoulder_pitch, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_arm_el_y: {p: &kp_elbow 300,  d: &kd_elbow 0.01, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_arm_wr_r: {p: &kp_default_arms 50,  d: &kd_default_arms 0.01, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_arm_wr_y: {p: *kp_default_arms,  d: *kd_default_arms, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_arm_wr_p: {p: *kp_default_arms,  d: *kd_default_arms, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      
    constraints:
      goal_time: &goal_time_constraint 4.0
      stopped_velocity_tolerance: 1.0
      l_arm_sh_p1:
        goal: &goal_pos_constraint 0.5
        trajectory: &trajectory_pos_constraint 1.0
      l_arm_sh_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      l_arm_sh_p2:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      l_arm_el_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      l_arm_wr_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      l_arm_wr_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      l_arm_wr_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
        
    stop_trajectory_duration: 1.0

  right_arm_traj_controller:
    type: "effort_controllers/JointTrajectoryController"
    joints:
      - r_arm_sh_p1
      - r_arm_sh_r
      - r_arm_sh_p2
      - r_arm_el_y
      - r_arm_wr_r
      - r_arm_wr_y
      - r_arm_wr_p
      
    gains: # Required because we're controlling an effort interface
      r_arm_sh_p1: {p: *kp_shoulder_pitch,  d: *kd_shoulder_pitch, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_arm_sh_r: {p: *kp_shoulder_roll,  d: *kd_shoulder_roll, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_arm_sh_p2: {p: *kp_shoulder_pitch,  d: *kd_shoulder_pitch, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_arm_el_y: {p: *kp_elbow,  d: *kd_elbow, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_arm_wr_r: {p: *kp_default_arms,  d: *kd_default_arms, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_arm_wr_y: {p: *kp_default_arms,  d: *kd_default_arms, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_arm_wr_p: {p: *kp_default_arms,  d: *kd_default_arms, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      
    constraints:
      goal_time: *goal_time_constraint
      stopped_velocity_tolerance: 1.0
      r_arm_sh_p1:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_arm_sh_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_arm_sh_p2:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_arm_el_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      r_arm_wr_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_arm_wr_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_arm_wr_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
        
    stop_trajectory_duration: 1.0
    
  torso_traj_controller:
    type: "effort_controllers/JointTrajectoryController"
    joints:
      - torso_y
      
    gains: # Required because we're controlling an effort interface
      torso_y: {p: &kp_default 2000,  d: &kd_default 0.5, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}

    constraints:
      goal_time: *goal_time_constraint
      stopped_velocity_tolerance: 1.0
      torso_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
    
    stop_trajectory_duration: 1.0
    
  head_traj_controller:
    type: "effort_controllers/JointTrajectoryController"
    joints:
      - head_y
      - head_p
      
    gains: # Required because we're controlling an effort interface
      head_y: {p: *kp_default_arms,  d: 0, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      head_p: {p: *kp_default_arms,  d: 0, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}

    constraints:
      goal_time: *goal_time_constraint
      head_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      head_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
    
    stop_trajectory_duration: 1.0              
      
  left_leg_traj_controller:
    type: "effort_controllers/JointTrajectoryController"
    joints:
      - l_leg_hip_y
      - l_leg_hip_r
      - l_leg_hip_p
      - l_leg_kn_p
      - l_leg_an_p
      - l_leg_an_r
      
    gains: # Required because we're controlling an effort interface
      l_leg_hip_y: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_leg_hip_r: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_leg_hip_p: {p: &kp_hip_pitch 1000,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_leg_kn_p: {p: *kp_default,  d: 20, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_leg_an_p: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      l_leg_an_r: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      
    constraints:
      goal_time: *goal_time_constraint
      stopped_velocity_tolerance: 1.0
      l_leg_hip_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      l_leg_hip_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      l_leg_hip_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      l_leg_kn_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      l_leg_an_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      l_leg_an_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint    
    
    stop_trajectory_duration: 0.0
      
  right_leg_traj_controller:
    type: "effort_controllers/JointTrajectoryController"
    joints:
      - r_leg_hip_y
      - r_leg_hip_r
      - r_leg_hip_p
      - r_leg_kn_p
      - r_leg_an_p
      - r_leg_an_r
      
    gains: # Required because we're controlling an effort interface
      r_leg_hip_y: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_leg_hip_r: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_leg_hip_p: {p: *kp_hip_pitch,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_leg_kn_p: {p: *kp_default,  d: 20, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_leg_an_p: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      r_leg_an_r: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}        
      
    constraints:
      goal_time: *goal_time_constraint
      stopped_velocity_tolerance: 1.0
      r_leg_hip_y:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_leg_hip_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      r_leg_hip_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_leg_kn_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint        
      r_leg_an_p:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint
      r_leg_an_r:
        goal: *goal_pos_constraint
        trajectory: *trajectory_pos_constraint   
    
    stop_trajectory_duration: 0.0


# Hands --------------------------------------------------
  #left_hand_traj_controller:
    #type: "effort_controllers/JointTrajectoryController"
    #joints:
      #- l_f0_j0
      #- l_f1_j0

    #gains: # Required because we're controlling an effort interface
      #l_f0_j0: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      #l_f1_j0: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}


    #constraints:
      #goal_time: *goal_time_constraint
      #l_f0_j0:
        #goal: *goal_pos_constraint
      #l_f1_j0:
        #goal: *goal_pos_constraint

    #stop_trajectory_duration: 0.0

  #right_hand_traj_controller:
    #type: "effort_controllers/JointTrajectoryController"
    #joints:
      #- r_f0_j0
      #- r_f1_j0

    #gains: # Required because we're controlling an effort interface
      #r_f0_j0: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}
      #r_f1_j0: {p: *kp_default,  d: *kd_default, i: *ki_default, i_clamp_min: *ki__clamp_default, i_clamp_max: *ki__clamp_default}


    #constraints:
      #goal_time: *goal_time_constraint
      #r_f0_j0:
        #goal: *goal_pos_constraint
      #r_f1_j0:
        #goal: *goal_pos_constraint

    #stop_trajectory_duration: 0.0
